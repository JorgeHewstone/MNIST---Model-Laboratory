<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Modelos MNIST</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; display: grid; justify-content: center; margin-top: 20px; background-color: #f8f9fa; }
        .container { display: flex; flex-wrap: wrap; gap: 30px; }
        .panel { background-color: white; padding: 20px; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        
        /* Panel de Parámetros */
        #params-panel { width: 350px; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; font-weight: bold; margin-bottom: 5px; }
        .form-group select, .form-group input {
            width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ccc; box-sizing: border-box;
        }
        #layers-container { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 10px; }
        #layers-container input { width: 80px; text-align: center; }

        /* Panel de Dibujo */
        #drawing-panel { width: 300px; text-align: center; }
        #canvas { border: 2px solid black; cursor: crosshair; background-color: white; }
        #result { font-size: 1.8em; font-weight: bold; color: #007bff; height: 50px; }
        #model-info { font-size: 0.9em; color: #6c757d; min-height: 60px; }
        .controls { margin-top: 10px; display: flex; justify-content: space-between; }
        button { padding: 10px; font-size: 16px; border-radius: 5px; cursor: pointer; border: none; }
        #clear-btn { background-color: #ffc107; }
        #predict-btn { width: 100%; margin-top: 10px; background-color: #28a745; color: white; }
    </style>
</head>
<body>

    <div class="container">
        
        <div id="params-panel" class="panel">
            <h2>1. Configura el Modelo</h2>
            <form id="model-params">
                <div class="form-group">
                    <label for="model_type">Tipo de Modelo</label>
                    <select id="model_type">
                        <option value="ConvNN">ConvNN (Convolucional)</option>
                        <option value="SimpleNN">SimpleNN (MLP)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="optimizer">Optimizador</label>
                    <select id="optimizer">
                        <option value="Adam">Adam</option>
                        <option value="SGD">SGD</option>
                        <option value="RMSprop">RMSprop</option>
                        <option value="AdamW">AdamW</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="batch_size">Tamaño de Batch (Batch Size)</label>
                    <select id="batch_size">
                        <option value="32">32</option>
                        <option value="64" selected>64</option>
                        <option value="128">128</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="lr_range">Rango de Learning Rate</label>
                    <select id="lr_range">
                        <option value="Bajo">Bajo (1e-5 a 1e-4)</option>
                        <option value="Medio Bajo">Medio Bajo (1e-4 a 5e-4)</option>
                        <option value="Medio Alto">Medio Alto (5e-4 a 1e-3)</option>
                        <option value="Alto" selected>Alto (1e-3 a 1e-2)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="num_layers">N° de Capas Ocultas (Lineales)</label>
                    <input type="number" id="num_layers" min="1" max="5" value="2">
                </div>

                <div class="form-group">
                    <label>Configuración de Capas</label>
                    <div id="layers-container">
                        </div>
                </div>
            </form>
        </div>

        <div id="drawing-panel" class="panel">
            <h2>2. Dibuja un dígito</h2>
            <canvas id="canvas" width="280" height="280"></canvas>
            <div class="controls">
                <button id="clear-btn">Limpiar</button>
            </div>
            <button id="predict-btn">Predecir con esta Configuración</button>
            <div id="result">...</div>
            <div id="model-info">
                <p>Selecciona los parámetros del modelo que deseas "simular".</p>
            </div>
        </div>
    </div>
    
    <script src="/static/js/drawing.js"></script>
</body>
</html>